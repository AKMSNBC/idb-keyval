var idbKeyval=function(){"use strict";var n;function e(e,r){return(n||(n=new Promise(function(n,e){var r=indexedDB.open("keyval-store",1);r.onerror=function(){e(r.error)},r.onupgradeneeded=function(){r.result.createObjectStore("keyval")},r.onsuccess=function(){n(r.result)}})),n).then(function(n){return new Promise(function(t,o){var u=n.transaction("keyval",e);u.oncomplete=function(){t()},u.onerror=function(){o(u.error)},r(u.objectStore("keyval"))})})}return{get:function(n){var r;return e("readonly",function(e){r=e.get(n)}).then(function(){return r.result})},set:function(n,r){return e("readwrite",function(e){e.put(r,n)})},delete:function(n){return e("readwrite",function(e){e.delete(n)})},clear:function(){return e("readwrite",function(n){n.clear()})},keys:function(){var n=[];return e("readonly",function(e){(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(n.push(this.result.key),this.result.continue())}}).then(function(){return n})}}}();
